{"info":{"title":"Peated API","version":"1.0.0","description":"The Peated API"},"servers":[{"url":"/v1"}],"openapi":"3.1.0","paths":{"/admin/queue/info":{"get":{"operationId":"admin.queueInfo","summary":"Get queue information","description":"Retrieve job queue statistics including waiting, active, completed, and failed jobs. Requires admin privileges","tags":["admin"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"stats":{"type":"object","properties":{"wait":{"type":"number"},"active":{"type":"number"},"completed":{"type":"number"},"failed":{"type":"number"}},"required":["wait","active","completed","failed"]}},"required":["stats"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/ai/bottle-lookup":{"post":{"operationId":"ai.bottleLookup","summary":"AI bottle lookup","description":"Use AI to generate bottle details including description, category, flavor profile, tasting notes, and suggested tags. Requires moderator privileges","tags":["ai"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"number"},{"type":"object","properties":{"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the series"}},"required":["name"]}]}]},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]},"distillers":{"default":[],"type":"array","items":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}},"bottler":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}]},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"image":{"type":"null","description":"Optional image upload for the bottle"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"description":{"anyOf":[{"type":"null"},{"type":"string"}]},"category":{"anyOf":[{"type":"null"},{"type":"string"}]},"flavorProfile":{"anyOf":[{"type":"null"},{"type":"string"}]},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"anyOf":[{"type":"null"},{"type":"string"}]},"palate":{"anyOf":[{"type":"null"},{"type":"string"}]},"finish":{"anyOf":[{"type":"null"},{"type":"string"}]}}}]},"suggestedTags":{"anyOf":[{"type":"null"},{"type":"array","items":{"type":"string"}}]}}}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/ai/country-lookup":{"post":{"operationId":"ai.countryLookup","summary":"AI country lookup","description":"Use AI to generate country details and information. Requires moderator privileges","tags":["ai"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"descriptionSrc":{"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the country description"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"anyOf":[{},{"not":{}}]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/ai/entity-lookup":{"post":{"operationId":"ai.entityLookup","summary":"AI entity lookup","description":"Use AI to generate entity details including description, establishment year, type, and website. Requires moderator privileges","tags":["ai"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"description":{"anyOf":[{"type":"null"},{"type":"string"}]},"yearEstablished":{"anyOf":[{"type":"null"},{"type":"number"}]},"type":{"anyOf":[{"type":"null"},{"type":"array","items":{"anyOf":[{"anyOf":[{"type":"null"},{"type":"string"}]},{"type":"null"}]}}]},"website":{"anyOf":[{"type":"null"},{"type":"string"}]}}}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/ai/extract-labels":{"post":{"operationId":"ai.labelExtract","summary":"Extract bottle information from labels","description":"Use AI to extract bottle details from image URLs or text labels including brand, expression, age, and other metadata","tags":["ai"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"imageUrl":{"type":"string"},"label":{"type":"string"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"brand":{"type":"string"},"expression":{"type":"string"},"category":{"type":"string"},"statedAge":{"type":"number"},"abv":{"type":"number"},"caskType":{"type":"string"},"series":{"type":"string"},"edition":{"type":"string"}}}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/ai/region-lookup":{"post":{"operationId":"ai.regionLookup","summary":"AI region lookup","description":"Use AI to generate region details and descriptions for a specific country. Requires moderator privileges","tags":["ai"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the region"},"country":{"type":"number"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"descriptionSrc":{"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the region description"}},"required":["country"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"description":{"anyOf":[{"type":"null"},{"type":"string"}]}}}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/login":{"post":{"operationId":"auth.login","summary":"User login","description":"Authenticate user with email/password, Google OAuth code, or Google ID token","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"anyOf":[{"type":"object","properties":{"email":{"type":"string","description":"User email address"},"password":{"type":"string","description":"User password"}},"required":["email","password"],"description":"Basic authentication"},{"type":"object","properties":{"code":{"type":"string","description":"Google OAuth authorization code"}},"required":["code"],"description":"Google OAuth (code)"},{"type":"object","properties":{"idToken":{"type":"string","description":"Google idToken"}},"required":["idToken"],"description":"Google OAuth (idToken)"}]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"Authenticated user information"},"accessToken":{"type":"string","description":"JWT access token for authentication"}},"required":["user"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/me":{"get":{"operationId":"auth.me","summary":"Get current user","description":"Retrieve the authenticated user's profile information","tags":["auth"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}},"required":["user"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/register":{"post":{"operationId":"auth.register","summary":"User registration","description":"Register a new user account with username, email, and password","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}},"required":["username","email","password"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"Authenticated user information"},"accessToken":{"type":"string","description":"JWT access token for authentication"}},"required":["user"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/magic-link/confirm":{"post":{"operationId":"auth.magicLink.confirm","summary":"Confirm magic link","description":"Confirm magic link authentication and return access token. Automatically verifies the user account","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"Authenticated user information"},"accessToken":{"type":"string","description":"JWT access token for authentication"}},"required":["user"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/magic-link":{"post":{"operationId":"auth.magicLink.create","summary":"Create magic link","description":"Send a magic link authentication email to the specified email address","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/password-reset/confirm":{"post":{"operationId":"auth.passwordReset.confirm","summary":"Confirm password reset","description":"Confirm password reset using token from email and set new password. Automatically verifies the user account","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"password":{"type":"string","minLength":8}},"required":["token","password"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"Authenticated user information"},"accessToken":{"type":"string","description":"JWT access token for authentication"}},"required":["user"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/password-reset":{"post":{"operationId":"auth.passwordReset.create","summary":"Request password reset","description":"Send a password reset email to the specified email address","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/badges/{badge}":{"get":{"operationId":"badges.details","summary":"Get badge details","description":"Retrieve detailed information about a specific achievement badge","tags":["badges"],"parameters":[{"name":"badge","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"badges.update","summary":"Update badge","description":"Update badge information including name, description, and validation checks. Requires admin privileges","tags":["badges"],"parameters":[{"name":"badge","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1},"tracker":{"enum":["bottle","entity","country","region"]},"formula":{"enum":["default","linear","fibonacci"]}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/badges":{"get":{"operationId":"badges.list","summary":"List badges","description":"Retrieve available badges with search and pagination support","tags":["badges"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"name","enum":["name"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"badges.create","summary":"Create badge","description":"Create a new achievement badge with validation checks and configuration. Requires admin privileges","tags":["badges"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1},"tracker":{"enum":["bottle","entity","country","region"]},"formula":{"enum":["default","linear","fibonacci"]}},"required":["name","checks","tracker","formula"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/badges/{badge}/users":{"get":{"operationId":"badges.userList","summary":"List badge users","description":"Retrieve users who have earned a specific badge, ordered by XP. Requires authentication","tags":["badges"],"parameters":[{"name":"badge","in":"path","required":true,"schema":{"type":"number"}},{"name":"cursor","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"xp":{"type":"number"},"level":{"type":"number"},"user":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]},"createdAt":{"type":"string"}},"required":["id","xp","level","user","createdAt"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}]},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/badges/{badge}/image":{"post":{"operationId":"badges.imageUpdate","summary":"Update badge image","description":"Upload and update the image for a badge with automatic compression and resizing. Requires admin privileges","tags":["badges"],"parameters":[{"name":"badge","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"file":{}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"imageUrl":{"type":"string"}},"required":["imageUrl"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}":{"get":{"operationId":"bottles.details","summary":"Get bottle details","description":"Retrieve detailed information about a specific bottle including creator, pricing, and tasting statistics","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"},"createdBy":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}]},"people":{"type":"number"},"lastPrice":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the store price"},"name":{"type":"string","description":"Name of the product as listed by the store"},"price":{"type":"number","description":"Current price of the bottle"},"currency":{"enum":["usd","gbp","eur"],"description":"Currency of the price"},"url":{"type":"string","description":"URL to the product page"},"volume":{"type":"number","description":"Volume of the bottle in milliliters"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"],"description":"External site where this price is listed"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the price was last updated"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the product image"},"isValid":{"type":"boolean","readOnly":true,"description":"Whether this price listing is still valid"}},"required":["id","name","price","currency","url","volume","updatedAt","isValid"]}]}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted","createdBy","people","lastPrice"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"bottles.update","summary":"Update bottle","description":"Update bottle information including name, brand, distillers, and other metadata. Requires moderator privileges","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"number"},{"type":"object","properties":{"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the series"}},"required":["name"]}]}]},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]},"distillers":{"default":[],"type":"array","items":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}},"bottler":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}]},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"image":{"type":"null","description":"Optional image upload for the bottle"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"bottles.delete","summary":"Delete bottle","description":"Permanently delete a bottle and create a tombstone record. Requires admin privileges","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles":{"get":{"operationId":"bottles.list","summary":"List bottles","description":"Search and filter bottles with pagination support. Supports filtering by brand, distillery, category, age, and more","tags":["bottles"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"brand","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"number"}]}},{"name":"distiller","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"number"}]}},{"name":"bottler","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"number"}]}},{"name":"entity","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"number"}]}},{"name":"series","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"number"}]}},{"name":"tag","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"string"}]}},{"name":"flavorProfile","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}]}},{"name":"flight","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"string"}]}},{"name":"category","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}]}},{"name":"age","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"number"}]}},{"name":"caskType","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"-tastings","enum":["rank","brand","created","name","age","rating","tastings","-created","-name","-age","-rating","-tastings"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"bottles.create","summary":"Create bottle","description":"Create a new bottle entry with brand, distillery, and whisky details","tags":["bottles"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"number"},{"type":"object","properties":{"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the series"}},"required":["name"]}]}]},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]},"distillers":{"default":[],"type":"array","items":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}},"bottler":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}]},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"image":{"type":"null","description":"Optional image upload for the bottle"}},"required":["name","brand"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"put":{"operationId":"bottles.upsert","summary":"Upsert bottle","description":"Create a new bottle or update existing one if it already exists. Requires moderator privileges","tags":["bottles"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"number"},{"type":"object","properties":{"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the series"}},"required":["name"]}]}]},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]},"distillers":{"default":[],"type":"array","items":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}},"bottler":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}]},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"image":{"type":"null","description":"Optional image upload for the bottle"}},"required":["name","brand"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/merge-targets":{"post":{"operationId":"bottles.merge","summary":"Merge bottles","description":"Merge two bottles together, combining their data and references. Requires moderator privileges","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"other":{"type":"number"},"direction":{"default":"mergeInto","enum":["mergeInto","mergeFrom"]}},"required":["other"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/validations":{"post":{"operationId":"bottles.validation","summary":"Validate bottle data","description":"Validate and normalize bottle information including name parsing, entity resolution, and data standardization","tags":["bottles"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"number"},{"type":"object","properties":{"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the series"}},"required":["name"]}]}]},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]},"distillers":{"default":[],"type":"array","items":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}},"bottler":{"default":null,"anyOf":[{"type":"null"},{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"id":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Optional ID for the entity"}},"required":["name"]},{"type":"number"}]}]},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"image":{"type":"null","description":"Optional image upload for the bottle"}},"required":["name","brand"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"statedAge":{"anyOf":[{"type":"null"},{"type":"number"}]},"vintageYear":{"anyOf":[{"type":"null"},{"type":"number"}]},"releaseYear":{"anyOf":[{"type":"null"},{"type":"number"}]},"caskStrength":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"singleCask":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["name","statedAge","vintageYear","releaseYear"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/similar":{"get":{"operationId":"bottles.similar","summary":"Get similar bottles","description":"Find bottles similar to the specified bottle based on brand, category, age, and distillery","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/tags":{"get":{"operationId":"bottles.tags","summary":"Get bottle tags","description":"Retrieve tags associated with a bottle and their usage counts from tastings","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"tag":{"type":"string"},"count":{"type":"number"}},"required":["tag","count"]}},"totalCount":{"type":"number"}},"required":["results","totalCount"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/suggested-tags":{"get":{"operationId":"bottles.suggestedTags","summary":"Get suggested tags for bottle","description":"Retrieve suggested tags for a bottle based on usage patterns for the bottle, brand, and category","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"tag":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the tag"},"synonyms":{"type":"array","items":{"type":"string","minLength":1},"description":"Alternative names for this tag"},"tagCategory":{"enum":["cereal","fruity","floral","peaty","feinty","sulphury","woody","winey"],"description":"Category this tag belongs to"},"flavorProfiles":{"type":"array","items":{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]},"description":"Flavor profiles associated with this tag"}},"required":["name","synonyms","tagCategory","flavorProfiles"]},"count":{"type":"number"}},"required":["tag","count"]}}},"required":["results"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/image":{"post":{"operationId":"bottles.imageUpdate","summary":"Update bottle image","description":"Upload and update the image for a bottle with automatic compression and resizing. Requires authentication and ownership or admin privileges","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"file":{}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"imageUrl":{"type":"string"}},"required":["imageUrl"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/unmatched":{"get":{"operationId":"bottles.unmatched","summary":"List unmatched bottles","description":"Retrieve bottle aliases that haven't been matched to existing bottles, with example store listings. Requires moderator privileges","tags":["bottles"],"parameters":[{"name":"bottle","in":"query","style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"createdAt":{"type":"string"},"bottleId":{"anyOf":[{"type":"null"},{"type":"number"}]},"bestMatch":{"type":"null"},"exampleListing":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the store price"},"name":{"type":"string","description":"Name of the product as listed by the store"},"price":{"type":"number","description":"Current price of the bottle"},"currency":{"enum":["usd","gbp","eur"],"description":"Currency of the price"},"url":{"type":"string","description":"URL to the product page"},"volume":{"type":"number","description":"Volume of the bottle in milliliters"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"]},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the price was last updated"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the product image"},"isValid":{"type":"boolean","readOnly":true,"description":"Whether this price listing is still valid"}},"required":["id","name","price","currency","url","volume","site","updatedAt","isValid"]}]}},"required":["name","createdAt","bottleId","bestMatch","exampleListing"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/prices":{"get":{"operationId":"bottles.prices.list","summary":"List bottle prices","description":"Retrieve current and historical prices for a specific bottle from various external sites","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}},{"name":"onlyValid","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the store price"},"name":{"type":"string","description":"Name of the product as listed by the store"},"price":{"type":"number","description":"Current price of the bottle"},"currency":{"enum":["usd","gbp","eur"],"description":"Currency of the price"},"url":{"type":"string","description":"URL to the product page"},"volume":{"type":"number","description":"Volume of the bottle in milliliters"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"]},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the price was last updated"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the product image"},"isValid":{"type":"boolean","readOnly":true,"description":"Whether this price listing is still valid"}},"required":["id","name","price","currency","url","volume","site","updatedAt","isValid"]}}},"required":["results"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/price-history":{"get":{"operationId":"bottles.prices.history","summary":"Get bottle price history","description":"Retrieve historical price data for a bottle including average, minimum, and maximum prices over time","tags":["bottles"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}},{"name":"currency","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":"usd","enum":["usd","gbp","eur"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string"},"avgPrice":{"type":"number"},"minPrice":{"type":"number"},"maxPrice":{"type":"number"}},"required":["date","avgPrice","minPrice","maxPrice"]}}},"required":["results"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottle-aliases":{"get":{"operationId":"bottleAliases.list","summary":"List bottle aliases","description":"Retrieve bottle aliases with filtering by bottle, unknown status, and search support","tags":["bottleAliases"],"parameters":[{"name":"bottle","in":"query","style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"onlyUnknown","in":"query","style":"deepObject","explode":true,"schema":{"type":"boolean"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"createdAt":{"type":"string"},"bottleId":{"anyOf":[{"type":"null"},{"type":"number"}]},"isCanonical":{"type":"boolean"}},"required":["name","createdAt","bottleId"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"put":{"operationId":"bottleAliases.upsert","summary":"Upsert bottle alias","description":"Create or update a bottle alias and associate it with a bottle. Updates related prices and reviews. Requires moderator privileges","tags":["bottleAliases"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"bottle":{"type":"number","description":"ID of the bottle this alias belongs to"},"name":{"type":"string","description":"Alternative name for the bottle"}},"required":["bottle","name"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottle-aliases/{alias}":{"patch":{"operationId":"bottleAliases.update","summary":"Update bottle alias","description":"Update bottle alias properties such as ignored status. Requires moderator privileges","tags":["bottleAliases"],"parameters":[{"name":"alias","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"ignored":{"type":"boolean"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"createdAt":{"type":"string"}},"required":["name","createdAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"bottleAliases.delete","summary":"Delete bottle alias","description":"Remove bottle alias association and clear related references. Cannot delete canonical names. Requires moderator privileges","tags":["bottleAliases"],"parameters":[{"name":"alias","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottle-releases/{release}":{"get":{"operationId":"bottleReleases.details","summary":"Get bottle release details","description":"Retrieve detailed information about a specific bottle release including bottle and creator information","tags":["bottleReleases"],"parameters":[{"name":"release","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"bottleReleases.update","summary":"Update bottle release","description":"Update bottle release information including edition, vintage, and cask details. Requires moderator privileges","tags":["bottleReleases"],"parameters":[{"name":"release","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"image":{"type":"null","description":"Optional image upload for the bottle"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"bottleReleases.delete","summary":"Delete bottle release","description":"Delete a bottle release and remove its references from related entities. Requires admin privileges","tags":["bottleReleases"],"parameters":[{"name":"release","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottles/{bottle}/releases":{"get":{"operationId":"bottleReleases.list","summary":"List bottle releases","description":"Retrieve releases for a specific bottle with search, sorting, and pagination support","tags":["bottleReleases"],"parameters":[{"name":"bottle","in":"path","required":true,"schema":{"type":"number"}},{"name":"query","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"cursor","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}},{"name":"sort","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":"releaseYear","enum":["name","-name","edition","-edition","statedAge","-statedAge","vintageYear","-vintageYear","releaseYear","-releaseYear","numTastings","-numTastings","avgRating","-avgRating"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottle-releases":{"post":{"operationId":"bottleReleases.create","summary":"Create bottle release","description":"Create a new bottle release with specific edition, vintage, and cask details. Requires authentication","tags":["bottleReleases"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"image":{"type":"null","description":"Optional image upload for the bottle"},"bottle":{"type":"number"}},"required":["bottle"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottle-series/{series}":{"get":{"operationId":"bottleSeries.details","summary":"Get bottle series details","description":"Retrieve detailed information about a specific bottle series by its ID","tags":["bottleSeries"],"parameters":[{"name":"series","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"bottleSeries.update","summary":"Update bottle series","description":"Update bottle series information including name and description. Requires moderator privileges","tags":["bottleSeries"],"parameters":[{"name":"series","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"brand":{"type":"number","description":"ID of the brand that produces this series"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"bottleSeries.delete","summary":"Delete bottle series","description":"Delete a bottle series and remove its reference from associated bottles. Requires moderator privileges","tags":["bottleSeries"],"parameters":[{"name":"series","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/bottle-series":{"get":{"operationId":"bottleSeries.list","summary":"List bottle series","description":"Retrieve bottle series for a specific brand with search and pagination support","tags":["bottleSeries"],"parameters":[{"name":"query","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"brand","in":"query","required":true,"style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"cursor","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}},"total":{"type":"number"},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","total","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"bottleSeries.create","summary":"Create bottle series","description":"Create a new bottle series for a brand with name and description","tags":["bottleSeries"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"brand":{"type":"number","description":"ID of the brand that produces this series"}},"required":["name","brand"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/changes":{"get":{"operationId":"changes.list","summary":"List changes","description":"Retrieve change history for bottles and entities with filtering by user and object type","tags":["changes"],"parameters":[{"name":"user","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"const":"me"},{"type":"number"}]}},{"name":"type","in":"query","style":"deepObject","explode":true,"schema":{"enum":["bottle","entity"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the change"},"objectId":{"type":"number","description":"ID of the object that was changed"},"objectType":{"enum":["follow","toast","comment","bottle","bottle_release","bottle_series","entity","tasting"],"description":"Type of object that was changed"},"displayName":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Display name of the changed object"},"type":{"enum":["add","update","delete"],"description":"Type of change (add, update, delete)"},"createdBy":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}],"description":"User who made the change"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the change was made"},"data":{"type":"object","additionalProperties":{},"description":"Additional data about the change"}},"required":["id","objectId","objectType","displayName","type","createdBy","createdAt","data"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}/collections":{"get":{"operationId":"collections.list","summary":"List user collections","description":"Retrieve collections for a specific user with optional bottle filtering. Respects user privacy settings","tags":["collections"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"string"},{"type":"number"}]}},{"name":"bottle","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"cursor","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the collection"},"name":{"type":"string","minLength":1,"description":"Name of the collection"},"totalBottles":{"type":"number","description":"Total number of bottles in this collection"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the collection was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"User who created this collection"}},"required":["id","name","totalBottles"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}/collections/{collection}/bottles":{"post":{"operationId":"collections.bottles.create","summary":"Add bottle to collection","description":"Add a bottle (and optionally a specific release) to a user's collection. Requires authentication and ownership","tags":["collections"],"parameters":[{"name":"collection","in":"path","required":true,"schema":{"anyOf":[{"const":"default"},{"type":"number"}]}},{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"number"},{"type":"string"}]}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"bottle":{"type":"number","description":"ID of the bottle to add to the collection"},"release":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"ID of the specific release, if applicable"}},"required":["bottle"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"collections.bottles.delete","summary":"Remove bottle from collection","description":"Remove a bottle (and optionally a specific release) from a user's collection. Requires authentication and ownership","tags":["collections"],"parameters":[{"name":"collection","in":"path","required":true,"schema":{"anyOf":[{"type":"number"},{"const":"default"}]}},{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"number"},{"type":"string"}]}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"bottle":{"type":"number","description":"ID of the bottle to add to the collection"},"release":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"ID of the specific release, if applicable"}},"required":["bottle"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"get":{"operationId":"collections.bottles.list","summary":"List collection bottles","description":"Retrieve bottles in a user's collection with pagination support. Respects privacy settings","tags":["collections"],"parameters":[{"name":"collection","in":"path","required":true,"schema":{"anyOf":[{"const":"default"},{"type":"number"}]}},{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"string"},{"type":"number"}]}},{"name":"cursor","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the collection bottle entry"},"bottle":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"],"description":"The bottle in this collection"},"release":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}],"description":"Specific release of the bottle, if applicable"}},"required":["id","bottle"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/tastings/{tasting}/comments":{"post":{"operationId":"tastings.comments.create","tags":["tastings","comments","tastings"],"parameters":[{"name":"tasting","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"comment":{"type":"string","minLength":1,"description":"Content of the comment"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the comment was created"}},"required":["comment","createdAt"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the comment"},"comment":{"type":"string","description":"Content of the comment"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the comment was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"User who created this comment"}},"required":["id","comment","createdAt","createdBy"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/comments/{comment}":{"delete":{"operationId":"tastings.comments.delete","summary":"Delete comment","description":"Delete a comment and update related counters. Requires authentication and ownership or admin privileges","tags":["tastings","comments"],"parameters":[{"name":"comment","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/comments":{"get":{"operationId":"tastings.comments.list","tags":["tastings","comments"],"parameters":[{"name":"user","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"const":"me"},{"type":"number"}]}},{"name":"tasting","in":"query","style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the comment"},"comment":{"type":"string","description":"Content of the comment"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the comment was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"User who created this comment"}},"required":["id","comment","createdAt","createdBy"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/countries/{country}":{"get":{"operationId":"countries.details","summary":"Get country details","description":"Retrieve detailed information about a specific country using its slug","tags":["countries"],"parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"countries.update","summary":"Update country","description":"Update country information including description and summary. Requires moderator privileges","tags":["countries"],"parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"descriptionSrc":{"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the country description"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/countries":{"get":{"operationId":"countries.list","summary":"List countries","description":"Retrieve countries with filtering by major whisky regions, bottle counts, and search support","tags":["countries"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"name","enum":["name","bottles","-name","-bottles"]}},{"name":"onlyMajor","in":"query","style":"deepObject","explode":true,"schema":{"default":false,"type":"boolean"}},{"name":"hasBottles","in":"query","style":"deepObject","explode":true,"schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/countries/categories":{"get":{"operationId":"countries.categories","summary":"Get country categories","description":"Retrieve whisky categories and their counts for a specific country based on distillery locations","tags":["countries"],"parameters":[{"name":"country","in":"query","required":true,"style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"string"},{"type":"number"}]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"count":{"type":"number"},"category":{"anyOf":[{"type":"null"},{"type":"string"}]}},"required":["count","category"]}},"totalCount":{"type":"number"}},"required":["results","totalCount"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/email/resend-verification":{"post":{"operationId":"email.resendVerification","summary":"Resend verification email","description":"Resend email verification to the authenticated user's email address","tags":["email"],"requestBody":{"required":false,"content":{"application/json":{"schema":{"not":{}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/email/verify":{"post":{"operationId":"email.verify","summary":"Verify email","description":"Verify user email address using verification token from email","tags":["email"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/entities/{entity}":{"get":{"operationId":"entities.details","summary":"Get entity details","description":"Retrieve detailed information about a specific entity (brand, distillery, or bottler) including creator information","tags":["entities"],"parameters":[{"name":"entity","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"},"createdBy":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string"}},"required":["id","username"]}]}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt","createdBy"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"entities.update","summary":"Update entity","description":"Update entity information including name, location, type, and description. Automatically updates related bottles and aliases. Requires moderator privileges","tags":["entities"],"parameters":[{"name":"entity","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"entities.delete","summary":"Delete entity","description":"Delete an entity and create a tombstone record. Removes associated aliases. Requires admin privileges","tags":["entities"],"parameters":[{"name":"entity","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/entities":{"get":{"operationId":"entities.list","summary":"List entities","description":"Search and filter entities (brands, distilleries, bottlers) with advanced filtering by location, type, and search context","tags":["entities"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"name","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"string"}]}},{"name":"country","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Country slug or id"}},{"name":"region","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Region slug or id"}},{"name":"type","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},{"name":"bottler","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"number"}]}},{"name":"searchContext","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"type":"object","properties":{"type":{"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]},"brand":{"anyOf":[{"type":"null"},{"type":"number"}]},"bottleName":{"anyOf":[{"type":"null"},{"type":"string"}]}}}]}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"rank","enum":["rank","name","created","tastings","bottles","-name","-created","-tastings","-bottles"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","maximum":500}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}]},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"entities.create","summary":"Create entity","description":"Create a new entity (brand, distillery, or bottler) with location and type information","tags":["entities"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Country ID where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Region ID where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"}},"required":["name"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/entities/{entity}/merge":{"post":{"operationId":"entities.merge","summary":"Merge entities","description":"Merge two entities together, combining their data and references. Requires moderator privileges","tags":["entities"],"parameters":[{"name":"entity","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"other":{"type":"number"},"direction":{"default":"mergeInto","enum":["mergeInto","mergeFrom"]}},"required":["other"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/entities/{entity}/aliases":{"get":{"operationId":"entities.aliases.list","summary":"List entity aliases","description":"Retrieve all aliases for a specific entity, indicating which is canonical","tags":["entities"],"parameters":[{"name":"entity","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"isCanonical":{"type":"boolean"},"createdAt":{"type":"string"}},"required":["name","isCanonical","createdAt"]}}},"required":["results"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/entity-aliases/{name}":{"delete":{"operationId":"entities.aliases.delete","summary":"Delete entity alias","description":"Remove entity alias association. Cannot delete canonical names. Requires moderator privileges","tags":["entities"],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/entities/{entity}/categories":{"get":{"operationId":"entities.categories.list","summary":"List entity categories","description":"Retrieve whisky categories and their counts for bottles associated with a specific entity","tags":["entities"],"parameters":[{"name":"entity","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"count":{"type":"number"},"category":{"anyOf":[{"type":"null"},{"type":"string"}]}},"required":["count","category"]}},"totalCount":{"type":"number"}},"required":["results","totalCount"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/events/{event}":{"get":{"operationId":"events.details","summary":"Get event details","description":"Retrieve detailed information about a specific whisky event","tags":["events"],"parameters":[{"name":"event","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the event"},"name":{"type":"string","minLength":1,"description":"Name of the event"},"dateStart":{"type":"string","format":"date","description":"Start date of the event"},"dateEnd":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"date"}],"description":"End date of the event"},"repeats":{"default":false,"type":"boolean","description":"Whether this is a recurring event"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL for the event"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the event"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the event takes place"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the event"}},"required":["id","name","dateStart"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"events.update","summary":"Update event","description":"Update event information including dates, location, and details. Requires admin privileges","tags":["events"],"parameters":[{"name":"event","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the event"},"dateStart":{"type":"string","format":"date","description":"Start date of the event"},"dateEnd":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"date"}],"description":"End date of the event"},"repeats":{"default":false,"type":"boolean","description":"Whether this is a recurring event"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL for the event"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the event"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"ID of the country where the event takes place"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the event"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the event"},"name":{"type":"string","minLength":1,"description":"Name of the event"},"dateStart":{"type":"string","format":"date","description":"Start date of the event"},"dateEnd":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"date"}],"description":"End date of the event"},"repeats":{"default":false,"type":"boolean","description":"Whether this is a recurring event"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL for the event"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the event"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the event takes place"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the event"}},"required":["id","name","dateStart"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/events":{"get":{"operationId":"events.list","summary":"List events","description":"Retrieve whisky events with filtering by upcoming dates, search, and sorting options","tags":["events"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"date","enum":["name","date","-date","-name"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"onlyUpcoming","in":"query","style":"deepObject","explode":true,"schema":{"default":true,"type":"boolean"}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the event"},"name":{"type":"string","minLength":1,"description":"Name of the event"},"dateStart":{"type":"string","format":"date","description":"Start date of the event"},"dateEnd":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"date"}],"description":"End date of the event"},"repeats":{"default":false,"type":"boolean","description":"Whether this is a recurring event"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL for the event"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the event"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the event takes place"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the event"}},"required":["id","name","dateStart"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}]},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"events.create","summary":"Create event","description":"Create a new whisky event with dates and details. Requires admin privileges","tags":["events"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the event"},"dateStart":{"type":"string","format":"date","description":"Start date of the event"},"dateEnd":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"date"}],"description":"End date of the event"},"repeats":{"default":false,"type":"boolean","description":"Whether this is a recurring event"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL for the event"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the event"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"ID of the country where the event takes place"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the event"}},"required":["name","dateStart"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the event"},"name":{"type":"string","minLength":1,"description":"Name of the event"},"dateStart":{"type":"string","format":"date","description":"Start date of the event"},"dateEnd":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"date"}],"description":"End date of the event"},"repeats":{"default":false,"type":"boolean","description":"Whether this is a recurring event"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL for the event"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the event"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the event takes place"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the event"}},"required":["id","name","dateStart"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/external-sites":{"get":{"operationId":"externalSites.list","summary":"List external sites","description":"Retrieve external sites with search and sorting options","tags":["sites"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"name","enum":["name","-name"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"externalSites.create","summary":"Create external site","description":"Create a new external site configuration for price scraping or data integration. Requires admin privileges","tags":["sites"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","minLength":1,"description":"Name of the external site"},"runEvery":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["type","name"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/external-sites/{site}":{"get":{"operationId":"externalSites.details","summary":"Get external site details","description":"Retrieve detailed information about a specific external site by its type","tags":["sites"],"parameters":[{"name":"site","in":"path","required":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"externalSites.update","summary":"Update external site","description":"Update external site configuration including name, type, and run frequency. Requires admin privileges","tags":["sites"],"parameters":[{"name":"site","in":"path","required":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","minLength":1,"description":"Name of the external site"},"runEvery":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/external-sites/{site}/trigger":{"post":{"operationId":"externalSites.triggerJob","summary":"Trigger external site job","description":"Manually trigger a scraping job for an external site. Requires admin privileges","tags":["sites"],"parameters":[{"name":"site","in":"path","required":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"}},"required":["success"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/external-sites/{site}/config/{key}":{"get":{"operationId":"externalSites.config.get","summary":"Get external site config","description":"Retrieve a configuration value for an external site. Returns default if not set. Requires admin privileges","tags":["sites"],"parameters":[{"name":"site","in":"path","required":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}},{"name":"key","in":"path","required":true,"schema":{"type":"string"}},{"name":"default","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":null}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"anyOf":[{},{"not":{}}]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"put":{"operationId":"externalSites.config.set","summary":"Set external site config","description":"Set or update a configuration value for an external site. Requires admin privileges","tags":["sites"],"parameters":[{"name":"site","in":"path","required":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}},{"name":"key","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"value":{}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/flights/{flight}":{"get":{"operationId":"flights.details","summary":"Get flight details","description":"Retrieve detailed information about a specific tasting flight using its public ID","tags":["flights"],"parameters":[{"name":"flight","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the flight"},"name":{"type":"string","minLength":1,"description":"Name of the flight"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the flight"},"public":{"type":"boolean","description":"Whether the flight is publicly visible"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the flight was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"User who created this flight"}},"required":["id","name","description","public"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"flights.update","summary":"Update flight","description":"Update flight information including name, description, and bottle list. Only the flight creator or moderator can update","tags":["flights"],"parameters":[{"name":"flight","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the flight"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the flight"},"public":{"default":false,"type":"boolean","description":"Whether the flight is publicly visible"},"bottles":{"type":"array","items":{"type":"number"},"description":"Array of bottle IDs to include in the flight"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the flight"},"name":{"type":"string","minLength":1,"description":"Name of the flight"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the flight"},"public":{"type":"boolean","description":"Whether the flight is publicly visible"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the flight was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"User who created this flight"}},"required":["id","name","description","public"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"flights.delete","summary":"Delete flight","description":"Delete a tasting flight. Requires admin privileges","tags":["flights"],"parameters":[{"name":"flight","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/flights":{"get":{"operationId":"flights.list","summary":"List flights","description":"Retrieve tasting flights with filtering by visibility and search. Respects user permissions for private flights","tags":["flights"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"filter","in":"query","style":"deepObject","explode":true,"schema":{"enum":["public","private","none"]}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"name","enum":["name","-name"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the flight"},"name":{"type":"string","minLength":1,"description":"Name of the flight"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the flight"},"public":{"type":"boolean","description":"Whether the flight is publicly visible"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the flight was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"User who created this flight"}},"required":["id","name","description","public"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}]},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"flights.create","summary":"Create flight","description":"Create a new tasting flight with bottles and visibility settings","tags":["flights"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the flight"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the flight"},"public":{"default":false,"type":"boolean","description":"Whether the flight is publicly visible"},"bottles":{"type":"array","items":{"type":"number"},"description":"Array of bottle IDs to include in the flight"}},"required":["name"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the flight"},"name":{"type":"string","minLength":1,"description":"Name of the flight"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Description of the flight"},"public":{"type":"boolean","description":"Whether the flight is publicly visible"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the flight was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"User who created this flight"}},"required":["id","name","description","public"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/friends/{user}":{"put":{"operationId":"friends.create","summary":"Send friend request","description":"Send a friend request to another user or accept a pending request. Creates mutual following relationship when accepted","tags":["friends"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"enum":["pending","friends","none"],"description":"Status of a friendship"}},"required":["status"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"friends.delete","summary":"Remove friend","description":"Remove a friend relationship and cancel any pending friend requests. Requires authentication","tags":["friends"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"enum":["pending","friends","none"],"description":"Status of a friendship"}},"required":["status"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/friends":{"get":{"operationId":"friends.list","summary":"List friends","description":"Retrieve user's friend relationships with filtering by status (pending/active) and search support","tags":["friends"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"filter","in":"query","style":"deepObject","explode":true,"schema":{"enum":["pending","active"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the friendship"},"status":{"enum":["pending","friends","none"],"description":"Status of the friendship (pending, accepted, etc.)"},"user":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"description":"The friend user"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the friendship was created"}},"required":["id","status","user"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/smws/distillers":{"get":{"operationId":"smws.distillerList","summary":"List SMWS distillers","description":"Retrieve distillers that are part of the Scotch Malt Whisky Society (SMWS) system","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}]},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/notifications/count":{"get":{"operationId":"notifications.count","summary":"Count notifications","description":"Get the count of user notifications with optional filtering by read status","tags":["notifications"],"parameters":[{"name":"filter","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"null"},{"enum":["unread","all"]}]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"number"}},"required":["count"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/notifications/{notification}":{"delete":{"operationId":"notifications.delete","summary":"Delete notification","description":"Delete a notification. Requires authentication and ownership or admin privileges","tags":["notifications"],"parameters":[{"name":"notification","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"notifications.update","summary":"Update notification","description":"Update notification properties such as read status. Requires authentication and ownership","tags":["notifications"],"parameters":[{"name":"notification","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"read":{"type":"boolean","description":"Whether to mark the notification as read"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the notification"},"objectId":{"type":"number","description":"ID of the object this notification refers to"},"type":{"enum":["friend_request","toast","comment"],"description":"Type of notification"},"fromUser":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}],"description":"User who triggered this notification"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the notification was created"},"read":{"type":"boolean","description":"Whether the notification has been read"},"ref":{"anyOf":[{"type":"null"},{}],"description":"Reference object for the notification"}},"required":["id","objectId","type","fromUser","createdAt","read"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/notifications":{"get":{"operationId":"notifications.list","summary":"List notifications","description":"Retrieve user notifications with filtering by read status and pagination support","tags":["notifications"],"parameters":[{"name":"filter","in":"query","style":"deepObject","explode":true,"schema":{"enum":["unread","all"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the notification"},"objectId":{"type":"number","description":"ID of the object this notification refers to"},"type":{"enum":["friend_request","toast","comment"],"description":"Type of notification"},"fromUser":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}],"description":"User who triggered this notification"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the notification was created"},"read":{"type":"boolean","description":"Whether the notification has been read"},"ref":{"anyOf":[{"type":"null"},{}],"description":"Reference object for the notification"}},"required":["id","objectId","type","fromUser","createdAt","read"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/prices":{"get":{"operationId":"prices.list","summary":"List store prices","description":"Retrieve store prices with filtering by site, validity, and unknown bottles. Requires admin privileges","tags":["prices"],"parameters":[{"name":"site","in":"query","style":"deepObject","explode":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}},{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"onlyUnknown","in":"query","style":"deepObject","explode":true,"schema":{"type":"boolean"}},{"name":"onlyValid","in":"query","style":"deepObject","explode":true,"schema":{"type":"boolean"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the store price"},"name":{"type":"string","description":"Name of the product as listed by the store"},"price":{"type":"number","description":"Current price of the bottle"},"currency":{"enum":["usd","gbp","eur"],"description":"Currency of the price"},"url":{"type":"string","description":"URL to the product page"},"volume":{"type":"number","description":"Volume of the bottle in milliliters"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"],"description":"External site where this price is listed"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the price was last updated"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the product image"},"isValid":{"type":"boolean","readOnly":true,"description":"Whether this price listing is still valid"}},"required":["id","name","price","currency","url","volume","updatedAt","isValid"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/prices/{price}":{"patch":{"operationId":"prices.update","summary":"Update price","description":"Update store price properties such as visibility. Requires moderator privileges","tags":["prices"],"parameters":[{"name":"price","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"hidden":{"type":"boolean"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the store price"},"name":{"type":"string","description":"Name of the product as listed by the store"},"price":{"type":"number","description":"Current price of the bottle"},"currency":{"enum":["usd","gbp","eur"],"description":"Currency of the price"},"url":{"type":"string","description":"URL to the product page"},"volume":{"type":"number","description":"Volume of the bottle in milliliters"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"],"description":"External site where this price is listed"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the price was last updated"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the product image"},"isValid":{"type":"boolean","readOnly":true,"description":"Whether this price listing is still valid"}},"required":["id","name","price","currency","url","volume","updatedAt","isValid"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/external-sites/{site}/prices":{"post":{"operationId":"prices.createBatch","summary":"Create batch prices","description":"Bulk create or update store prices for an external site with automatic bottle matching and alias creation. Requires admin privileges","tags":["prices"],"parameters":[{"name":"site","in":"path","required":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"prices":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the product as listed by the store"},"price":{"type":"number","description":"Current price of the bottle"},"currency":{"enum":["usd","gbp","eur"],"description":"Currency of the price"},"volume":{"type":"number","description":"Volume of the bottle in milliliters"},"url":{"type":"string","format":"uri","minLength":1,"description":"URL to the product page"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Optional URL to the product image"}},"required":["name","price","currency","volume","url"]}}},"required":["prices"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/price-changes":{"get":{"operationId":"prices.changeList","summary":"List price changes","description":"Retrieve significant bottle price changes from the past week with search and pagination support","tags":["prices"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the price change"},"price":{"type":"number","description":"New price of the bottle"},"previousPrice":{"type":"number","description":"Previous price of the bottle"},"currency":{"enum":["usd","gbp","eur"],"description":"Currency of the prices"},"bottle":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}],"description":"The bottle whose price changed"}},"required":["id","price","previousPrice","currency","bottle"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/countries/{country}/regions/{region}":{"get":{"operationId":"regions.details","summary":"Get region details","description":"Retrieve detailed information about a specific region within a country using their slugs","tags":["regions"],"parameters":[{"name":"region","in":"path","required":true,"schema":{"type":"string"}},{"name":"country","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"regions.update","summary":"Update region","description":"Update region information including description. Requires moderator privileges","tags":["regions"],"parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"}},{"name":"region","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the region"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"descriptionSrc":{"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the region description"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"regions.delete","summary":"Delete region","description":"Delete a region from a country. Requires admin privileges","tags":["regions"],"parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"}},{"name":"region","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/countries/{country}/regions":{"get":{"operationId":"regions.list","summary":"List regions","description":"Retrieve regions within a specific country with filtering by bottle counts and search support","tags":["regions"],"parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"}},{"name":"query","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"cursor","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}},{"name":"sort","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":"name","enum":["name","bottles","-name","-bottles"]}},{"name":"hasBottles","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"regions.create","summary":"Create region","description":"Create a new region within a country with automatic slug generation. Requires moderator privileges","tags":["regions"],"parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the region"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"descriptionSrc":{"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the region description"}},"required":["name"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/reviews":{"get":{"operationId":"reviews.list","summary":"List reviews","description":"Retrieve reviews with filtering by site, bottle, and unknown status. Requires moderator privileges for full access","tags":["reviews"],"parameters":[{"name":"site","in":"query","style":"deepObject","explode":true,"schema":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"]}},{"name":"bottle","in":"query","style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"onlyUnknown","in":"query","style":"deepObject","explode":true,"schema":{"type":"boolean"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the review"},"name":{"type":"string","description":"Name of the reviewed product"},"rating":{"type":"number","description":"Rating given in the review"},"url":{"type":"string","description":"URL to the original review"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"],"description":"External site where the review was published"},"bottle":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}],"description":"Bottle this review is associated with"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the review was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the review was last updated"}},"required":["id","name","rating","url","createdAt","updatedAt"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"reviews.create","summary":"Create review","description":"Create a new review from external site data with automatic bottle matching and alias creation. Requires admin privileges","tags":["reviews"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"site":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","minLength":1,"description":"Name of the reviewed product"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky being reviewed"},"rating":{"type":"number","description":"Rating given in the review"},"issue":{"type":"string","minLength":1,"description":"Issue or problem with the review"},"url":{"type":"string","minLength":1,"description":"URL to the original review"}},"required":["site","name","rating","issue","url"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the review"},"name":{"type":"string","description":"Name of the reviewed product"},"rating":{"type":"number","description":"Rating given in the review"},"url":{"type":"string","description":"URL to the original review"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"],"description":"External site where the review was published"},"bottle":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}],"description":"Bottle this review is associated with"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the review was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the review was last updated"}},"required":["id","name","rating","url","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/reviews/{review}":{"patch":{"operationId":"reviews.update","summary":"Update review","description":"Update review properties such as visibility. Requires moderator privileges","tags":["reviews"],"parameters":[{"name":"review","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"hidden":{"type":"boolean"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the review"},"name":{"type":"string","description":"Name of the reviewed product"},"rating":{"type":"number","description":"Rating given in the review"},"url":{"type":"string","description":"URL to the original review"},"site":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the external site"},"type":{"enum":["astorwines","healthyspirits","reservebar","smws","smwsa","totalwine","woodencork","whiskyadvocate"],"description":"Type of external site"},"name":{"type":"string","description":"Name of the external site"},"lastRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the last scraping run"},"nextRunAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Timestamp of the next scheduled run"},"runEvery":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Interval in minutes between runs"}},"required":["id","type","name","lastRunAt","nextRunAt","runEvery"],"description":"External site where the review was published"},"bottle":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}],"description":"Bottle this review is associated with"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the review was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the review was last updated"}},"required":["id","name","rating","url","createdAt","updatedAt"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/":{"get":{"operationId":"root","summary":"API root","description":"Get basic API information including version","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"version":{"type":"string"}},"required":["version"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/search":{"get":{"operationId":"search","summary":"Global search","description":"Search across bottles, entities, and users with configurable result types and limits","parameters":[{"name":"query","in":"query","required":true,"style":"deepObject","explode":true,"schema":{"type":"string"}},{"name":"include","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":["bottles","entities","users"],"type":"array","items":{"enum":["bottles","entities","users"]}}},{"name":"limit","in":"query","required":true,"style":"deepObject","explode":true,"schema":{"type":"number","maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"query":{"type":"string"},"results":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"bottle"},"ref":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"]}},"required":["type","ref"]},{"type":"object","properties":{"type":{"const":"entity"},"ref":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}},"required":["type","ref"]},{"type":"object","properties":{"type":{"const":"user"},"ref":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}},"required":["type","ref"]}]}}},"required":["query","results"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/stats":{"get":{"operationId":"stats","summary":"Get platform statistics","description":"Retrieve overall platform statistics including total tastings, bottles, and entities","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"totalTastings":{"type":"number"},"totalBottles":{"type":"number"},"totalEntities":{"type":"number"}},"required":["totalTastings","totalBottles","totalEntities"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/tags/{tag}":{"get":{"operationId":"tags.details","summary":"Get tag details","description":"Retrieve detailed information about a specific tag by its name","tags":["tags"],"parameters":[{"name":"tag","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the tag"},"synonyms":{"type":"array","items":{"type":"string","minLength":1},"description":"Alternative names for this tag"},"tagCategory":{"enum":["cereal","fruity","floral","peaty","feinty","sulphury","woody","winey"],"description":"Category this tag belongs to"},"flavorProfiles":{"type":"array","items":{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]},"description":"Flavor profiles associated with this tag"}},"required":["name","synonyms","tagCategory","flavorProfiles"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"tags.update","summary":"Update tag","description":"Update tag properties including category, flavor profiles, and synonyms. Requires moderator privileges","tags":["tags"],"parameters":[{"name":"tag","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the tag"},"synonyms":{"anyOf":[{"type":"null"},{"default":[],"type":"array","items":{"type":"string","minLength":1}}],"description":"Alternative names for this tag"},"tagCategory":{"enum":["cereal","fruity","floral","peaty","feinty","sulphury","woody","winey"],"description":"Category this tag belongs to"},"flavorProfiles":{"anyOf":[{"type":"null"},{"default":[],"type":"array","items":{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}}],"description":"Flavor profiles associated with this tag"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the tag"},"synonyms":{"type":"array","items":{"type":"string","minLength":1},"description":"Alternative names for this tag"},"tagCategory":{"enum":["cereal","fruity","floral","peaty","feinty","sulphury","woody","winey"],"description":"Category this tag belongs to"},"flavorProfiles":{"type":"array","items":{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]},"description":"Flavor profiles associated with this tag"}},"required":["name","synonyms","tagCategory","flavorProfiles"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/tags":{"post":{"operationId":"tags.create","summary":"Create tag","description":"Create a new tag with synonyms, category, and flavor profiles. Requires moderator privileges","tags":["tags"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the tag"},"synonyms":{"anyOf":[{"type":"null"},{"default":[],"type":"array","items":{"type":"string","minLength":1}}],"description":"Alternative names for this tag"},"tagCategory":{"enum":["cereal","fruity","floral","peaty","feinty","sulphury","woody","winey"],"description":"Category this tag belongs to"},"flavorProfiles":{"anyOf":[{"type":"null"},{"default":[],"type":"array","items":{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}}],"description":"Flavor profiles associated with this tag"}},"required":["name","tagCategory"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the tag"},"synonyms":{"type":"array","items":{"type":"string","minLength":1},"description":"Alternative names for this tag"},"tagCategory":{"enum":["cereal","fruity","floral","peaty","feinty","sulphury","woody","winey"],"description":"Category this tag belongs to"},"flavorProfiles":{"type":"array","items":{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]},"description":"Flavor profiles associated with this tag"}},"required":["name","synonyms","tagCategory","flavorProfiles"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"get":{"operationId":"tags.list","summary":"List tags","description":"Retrieve available tags with search and pagination support","tags":["tags"],"parameters":[{"name":"bottle","in":"query","style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":100,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","minLength":1,"description":"Name of the tag"},"synonyms":{"type":"array","items":{"type":"string","minLength":1},"description":"Alternative names for this tag"},"tagCategory":{"enum":["cereal","fruity","floral","peaty","feinty","sulphury","woody","winey"],"description":"Category this tag belongs to"},"flavorProfiles":{"type":"array","items":{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]},"description":"Flavor profiles associated with this tag"}},"required":["name","synonyms","tagCategory","flavorProfiles"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}]},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/tastings/{tasting}":{"get":{"operationId":"tastings.details","summary":"Get tasting details","description":"Retrieve detailed information about a specific tasting","tags":["tastings"],"parameters":[{"name":"tasting","in":"path","required":true,"schema":{"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the tasting"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the tasting's image"},"notes":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"User's tasting notes and observations"},"bottle":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"],"description":"The bottle that was tasted"},"release":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}],"description":"The release of the bottle, if applicable. e.g. 'Ardbeg Supernova 2023'"},"rating":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"description":"User's rating from 0-5 stars"},"tags":{"default":[],"type":"array","items":{"type":"string"},"description":"Tags associated with this tasting"},"color":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":20}],"description":"Color rating on a scale from 0-20"},"servingStyle":{"default":null,"anyOf":[{"type":"null"},{"enum":["neat","rocks","splash"]}],"description":"How the whisky was served (neat, rocks, etc.)"},"friends":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]},"description":"Friends who were present during this tasting"},"awards":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge award"},"xp":{"type":"number","description":"Experience points earned for this badge"},"level":{"type":"number","description":"Current level of this badge"},"badge":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"],"description":"The badge that was awarded"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the badge was awarded"},"prevLevel":{"type":"number","description":"Previous level before this award"}},"required":["id","xp","level","badge","createdAt"]},"readOnly":true,"description":"Badges awarded for this tasting"},"comments":{"type":"number","minimum":0,"readOnly":true,"description":"Number of comments on this tasting"},"toasts":{"type":"number","minimum":0,"readOnly":true,"description":"Number of toasts (likes) this tasting has received"},"hasToasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has toasted this tasting"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the tasting was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"readOnly":true,"description":"User who created this tasting"}},"required":["id","bottle","awards","comments","toasts","createdAt","createdBy"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"tastings.update","summary":"Update tasting","description":"Update tasting information including notes, rating, tags, and friends. Only the tasting creator can update","tags":["tastings"],"parameters":[{"name":"tasting","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the tasting's image"},"notes":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"User's tasting notes and observations"},"release":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"The release of the bottle, if applicable. e.g. 'Ardbeg Supernova 2023'"},"rating":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"description":"User's rating from 0-5 stars"},"tags":{"default":[],"type":"array","items":{"type":"string"},"description":"Tags associated with this tasting"},"color":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":20}],"description":"Color rating on a scale from 0-20"},"servingStyle":{"default":null,"anyOf":[{"type":"null"},{"enum":["neat","rocks","splash"]}],"description":"How the whisky was served (neat, rocks, etc.)"},"friends":{"default":[],"type":"array","items":{"type":"number"},"description":"Array of friend user IDs who were present"},"createdAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Custom creation timestamp for the tasting"},"image":{"type":"null","description":"Optional image upload for the tasting"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the tasting"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the tasting's image"},"notes":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"User's tasting notes and observations"},"bottle":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"],"description":"The bottle that was tasted"},"release":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}],"description":"The release of the bottle, if applicable. e.g. 'Ardbeg Supernova 2023'"},"rating":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"description":"User's rating from 0-5 stars"},"tags":{"default":[],"type":"array","items":{"type":"string"},"description":"Tags associated with this tasting"},"color":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":20}],"description":"Color rating on a scale from 0-20"},"servingStyle":{"default":null,"anyOf":[{"type":"null"},{"enum":["neat","rocks","splash"]}],"description":"How the whisky was served (neat, rocks, etc.)"},"friends":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]},"description":"Friends who were present during this tasting"},"awards":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge award"},"xp":{"type":"number","description":"Experience points earned for this badge"},"level":{"type":"number","description":"Current level of this badge"},"badge":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"],"description":"The badge that was awarded"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the badge was awarded"},"prevLevel":{"type":"number","description":"Previous level before this award"}},"required":["id","xp","level","badge","createdAt"]},"readOnly":true,"description":"Badges awarded for this tasting"},"comments":{"type":"number","minimum":0,"readOnly":true,"description":"Number of comments on this tasting"},"toasts":{"type":"number","minimum":0,"readOnly":true,"description":"Number of toasts (likes) this tasting has received"},"hasToasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has toasted this tasting"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the tasting was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"readOnly":true,"description":"User who created this tasting"}},"required":["id","bottle","awards","comments","toasts","createdAt","createdBy"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"tastings.delete","summary":"Delete tasting","description":"Delete a tasting and update related statistics. Only the tasting creator or admin can delete","tags":["tastings"],"parameters":[{"name":"tasting","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/tastings":{"get":{"operationId":"tastings.list","summary":"List tastings","description":"Retrieve tastings with filtering by bottle, entity, user, and privacy settings. Supports pagination","tags":["tastings"],"parameters":[{"name":"bottle","in":"query","style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"entity","in":"query","style":"deepObject","explode":true,"schema":{"type":"number"}},{"name":"user","in":"query","style":"deepObject","explode":true,"schema":{"anyOf":[{"type":"number"},{"const":"me"},{"type":"string"}]}},{"name":"filter","in":"query","style":"deepObject","explode":true,"schema":{"default":"global","enum":["global","friends","local"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the tasting"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the tasting's image"},"notes":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"User's tasting notes and observations"},"bottle":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"],"description":"The bottle that was tasted"},"release":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}],"description":"The release of the bottle, if applicable. e.g. 'Ardbeg Supernova 2023'"},"rating":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"description":"User's rating from 0-5 stars"},"tags":{"default":[],"type":"array","items":{"type":"string"},"description":"Tags associated with this tasting"},"color":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":20}],"description":"Color rating on a scale from 0-20"},"servingStyle":{"default":null,"anyOf":[{"type":"null"},{"enum":["neat","rocks","splash"]}],"description":"How the whisky was served (neat, rocks, etc.)"},"friends":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]},"description":"Friends who were present during this tasting"},"awards":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge award"},"xp":{"type":"number","description":"Experience points earned for this badge"},"level":{"type":"number","description":"Current level of this badge"},"badge":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"],"description":"The badge that was awarded"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the badge was awarded"},"prevLevel":{"type":"number","description":"Previous level before this award"}},"required":["id","xp","level","badge","createdAt"]},"readOnly":true,"description":"Badges awarded for this tasting"},"comments":{"type":"number","minimum":0,"readOnly":true,"description":"Number of comments on this tasting"},"toasts":{"type":"number","minimum":0,"readOnly":true,"description":"Number of toasts (likes) this tasting has received"},"hasToasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has toasted this tasting"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the tasting was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"readOnly":true,"description":"User who created this tasting"}},"required":["id","bottle","awards","comments","toasts","createdAt","createdBy"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"post":{"operationId":"tastings.create","summary":"Create tasting","description":"Create a new tasting entry for a bottle with notes, rating, and optional metadata like flight and friends","tags":["tastings"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the tasting's image"},"notes":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"User's tasting notes and observations"},"bottle":{"type":"number","description":"ID of the bottle being tasted"},"release":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"The release of the bottle, if applicable. e.g. 'Ardbeg Supernova 2023'"},"rating":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"description":"User's rating from 0-5 stars"},"tags":{"default":[],"type":"array","items":{"type":"string"},"description":"Tags associated with this tasting"},"color":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":20}],"description":"Color rating on a scale from 0-20"},"servingStyle":{"default":null,"anyOf":[{"type":"null"},{"enum":["neat","rocks","splash"]}],"description":"How the whisky was served (neat, rocks, etc.)"},"friends":{"default":[],"type":"array","items":{"type":"number"},"description":"Array of friend user IDs who were present"},"createdAt":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}],"description":"Custom creation timestamp for the tasting"},"flight":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Flight ID if this tasting is part of a flight"},"image":{"type":"null","description":"Optional image upload for the tasting"}},"required":["bottle"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"tasting":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the tasting"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the tasting's image"},"notes":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"User's tasting notes and observations"},"bottle":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","description":"Expression name for the bottle (e.g., Supernova for Ardbeg Supernova)"},"series":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the bottle series"},"name":{"type":"string","description":"Name of the series (e.g., Supernova, 18-year-old)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this series"},"fullName":{"type":"string","description":"Full name of the series (brand name + series name)","readOnly":true},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the series"},"numReleases":{"default":0,"type":"number","readOnly":true,"description":"Number of releases in this series"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the series was last updated"}},"required":["id","name","brand","fullName","createdAt","updatedAt"]}],"description":"Series name for this bottling (e.g. Supernova for Ardbeg Supernova)"},"category":{"default":null,"anyOf":[{"type":"null"},{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]}],"description":"Category of the whisky (e.g., Scotch, Bourbon, etc.)"},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Edition name or number for this bottling"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Official age statement in years"},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky is bottled at cask strength"},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":100}],"description":"Alcohol by volume percentage"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was distilled"},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2025}],"description":"Year the whisky was released"},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"brand":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"],"description":"The brand that produces this bottle"},"distillers":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]},"description":"List of distilleries that produced this whisky"},"bottler":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the entity"},"name":{"type":"string","minLength":1,"description":"Name of the entity (brand, distillery, etc.)"},"shortName":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Abbreviated or short name for the entity"},"type":{"default":[],"type":"array","items":{"enum":["brand","bottler","distiller"]},"description":"Types that classify this entity (e.g., brand, distillery)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the entity"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the entity description"},"yearEstablished":{"default":null,"anyOf":[{"type":"null"},{"type":"number","maximum":2025}],"description":"Year the entity was established"},"website":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"description":"Official website URL"},"country":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"]}],"description":"Country where the entity is located"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the region"},"name":{"type":"string","minLength":1,"description":"Name of the region"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the region"},"country":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the country"},"name":{"type":"string","minLength":1,"description":"Name of the country"},"slug":{"type":"string","minLength":1,"description":"URL-friendly slug for the country"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the country's whisky heritage"},"summary":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Brief summary of the country"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the country"},"totalBottles":{"type":"number","description":"Total number of bottles from this country"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this country"}},"required":["id","name","slug","totalBottles","totalDistillers"],"description":"Country this region belongs to"},"description":{"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the region's whisky characteristics"},"location":{"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the region"},"totalBottles":{"type":"number","description":"Total number of bottles from this region"},"totalDistillers":{"type":"number","description":"Total number of distilleries in this region"}},"required":["id","name","slug","country","totalBottles","totalDistillers"]}],"description":"Region where the entity is located"},"address":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Physical address of the entity"},"location":{"default":null,"anyOf":[{"type":"null"},{"type":"array","prefixItems":[{"type":"number"},{"type":"number"}],"description":"Geographic coordinates as [longitude, latitude]"}],"description":"Geographic coordinates of the entity"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of tastings for bottles from this entity"},"totalBottles":{"type":"number","readOnly":true,"description":"Total number of bottles associated with this entity"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the entity was last updated"}},"required":["id","name","totalTastings","totalBottles","createdAt","updatedAt"]}],"description":"Independent bottler if different from the brand"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle"},"descriptionSrc":{"default":null,"anyOf":[{"type":"null"},{"enum":["generated","user"]}],"description":"Source of the bottle description"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string","format":"uri"}],"readOnly":true,"description":"URL to the bottle's image"},"flavorProfile":{"default":null,"anyOf":[{"type":"null"},{"enum":["young_spritely","sweet_fruit_mellow","spicy_sweet","spicy_dry","deep_rich_dried_fruit","old_dignified","light_delicate","juicy_oak_vanilla","oily_coastal","lightly_peated","peated","heavily_peated"]}],"description":"Primary flavor characteristics of the whisky"},"tastingNotes":{"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}],"readOnly":true},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the bottle's characteristics"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"readOnly":true,"description":"Average user rating for this bottle"},"totalTastings":{"type":"number","minimum":0,"readOnly":true,"description":"Total number of recorded tastings for this bottle"},"numReleases":{"type":"number","minimum":0,"readOnly":true,"description":"Number of different editions of this bottle"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was created"},"updatedAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the bottle was last updated"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has recorded a tasting this bottle"}},"required":["id","fullName","name","brand","avgRating","totalTastings","numReleases","createdAt","updatedAt","isFavorite","hasTasted"],"description":"The bottle that was tasted"},"release":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the bottle edition"},"bottleId":{"type":"number","description":"Reference to the parent bottle"},"fullName":{"type":"string","readOnly":true,"description":"Canonical name including the brand"},"name":{"type":"string","readOnly":true,"description":"Canonical name excluding the brand."},"edition":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Specific edition identifier (e.g. Batch #1)"},"statedAge":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Official age statement in years"},"abv":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}],"description":"Alcohol By Volume percentage of the spirit."},"caskStrength":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether this spirit is bottled at Cask Strength (usually ranging from 55-65% abv). May be inferred from abv."},"singleCask":{"default":null,"anyOf":[{"type":"null"},{"type":"boolean"}],"description":"Whether the whisky comes from a single cask"},"vintageYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this spirit was distilled and transferred to a cask."},"releaseYear":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":1800,"maximum":2026}],"description":"Year this bottling was released."},"caskType":{"default":null,"anyOf":[{"type":"null"},{"enum":["bourbon","amontilado","fino","manzanilla","oloroso","palo_cortado","pedro_ximenez","liqueur_muscat","madeira","marsala","tawny_port","ruby_port","rose_port","white_port","amarone","barolo","bordeaux","burgundy","chardonnay","muscat","sauternes","tokaji","rum_white","rum_dark","cognac","oak","other"]}],"description":"Type of cask used for maturation"},"caskSize":{"default":null,"anyOf":[{"type":"null"},{"enum":["quarter_cask","barrel","hogshead","barrique","puncheon","butt","port_pipe","madeira_drum"]}],"description":"Size of the cask used for maturation"},"caskFill":{"default":null,"anyOf":[{"type":"null"},{"enum":["1st_fill","2nd_fill","refill","other"]}],"description":"Fill number of the cask (1st fill, refill, etc.)"},"description":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"Detailed description of the bottle edition"},"tastingNotes":{"default":null,"anyOf":[{"type":"null"},{"type":"object","properties":{"nose":{"type":"string","description":"Aroma characteristics of the whisky"},"palate":{"type":"string","description":"Taste characteristics of the whisky"},"finish":{"type":"string","description":"Aftertaste characteristics of the whisky"}},"required":["nose","palate","finish"]}]},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the bottle edition's image"},"avgRating":{"anyOf":[{"type":"null"},{"type":"number","readOnly":true}],"description":"Average user rating for this edition"},"totalTastings":{"type":"number","readOnly":true,"description":"Total number of recorded tastings for this edition"},"suggestedTags":{"type":"array","items":{"type":"string"},"readOnly":true,"description":"System-generated tags based on the edition's characteristics"},"isFavorite":{"type":"boolean","readOnly":true,"description":"Whether the current user has marked this bottle as a favorite"},"hasTasted":{"type":"boolean","description":"Whether the current user has tasted this edition"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the edition was last updated"}},"required":["id","bottleId","fullName","name","avgRating","totalTastings","suggestedTags","isFavorite","hasTasted","createdAt","updatedAt"]}],"description":"The release of the bottle, if applicable. e.g. 'Ardbeg Supernova 2023'"},"rating":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":5}],"description":"User's rating from 0-5 stars"},"tags":{"default":[],"type":"array","items":{"type":"string"},"description":"Tags associated with this tasting"},"color":{"default":null,"anyOf":[{"type":"null"},{"type":"number","minimum":0,"maximum":20}],"description":"Color rating on a scale from 0-20"},"servingStyle":{"default":null,"anyOf":[{"type":"null"},{"enum":["neat","rocks","splash"]}],"description":"How the whisky was served (neat, rocks, etc.)"},"friends":{"default":[],"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]},"description":"Friends who were present during this tasting"},"awards":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge award"},"xp":{"type":"number","description":"Experience points earned for this badge"},"level":{"type":"number","description":"Current level of this badge"},"badge":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"],"description":"The badge that was awarded"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the badge was awarded"},"prevLevel":{"type":"number","description":"Previous level before this award"}},"required":["id","xp","level","badge","createdAt"]},"readOnly":true,"description":"Badges awarded for this tasting"},"comments":{"type":"number","minimum":0,"readOnly":true,"description":"Number of comments on this tasting"},"toasts":{"type":"number","minimum":0,"readOnly":true,"description":"Number of toasts (likes) this tasting has received"},"hasToasted":{"type":"boolean","readOnly":true,"description":"Whether the current user has toasted this tasting"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the tasting was created"},"createdBy":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"],"readOnly":true,"description":"User who created this tasting"}},"required":["id","bottle","awards","comments","toasts","createdAt","createdBy"]},"awards":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge award"},"xp":{"type":"number","description":"Experience points earned for this badge"},"level":{"type":"number","description":"Current level of this badge"},"badge":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"],"description":"The badge that was awarded"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the badge was awarded"},"prevLevel":{"type":"number","description":"Previous level before this award"}},"required":["id","xp","level","badge","createdAt"]}}},"required":["tasting","awards"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/tastings/{tasting}/image":{"post":{"operationId":"tastings.imageUpdate","summary":"Update tasting image","description":"Upload and update the image for a tasting with automatic compression and resizing. Requires authentication and ownership or admin privileges","tags":["tastings"],"parameters":[{"name":"tasting","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"file":{}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"imageUrl":{"type":"string"}},"required":["imageUrl"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"delete":{"operationId":"tastings.imageDelete","summary":"Delete tasting image","description":"Remove the image from a tasting. Requires authentication and ownership or admin privileges","tags":["tastings"],"parameters":[{"name":"tasting","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/tastings/{tasting}/toast":{"post":{"operationId":"toasts.create","summary":"Create toast","description":"Toast a tasting to show appreciation. Cannot toast your own tastings. Requires authentication","tags":["toasts"],"parameters":[{"name":"tasting","in":"path","required":true,"schema":{"type":"number"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}":{"get":{"operationId":"users.details","summary":"Get user details","description":"Retrieve user profile information including statistics for tastings, bottles, and contributions","tags":["users"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"type":"number"},{"const":"me"},{"type":"string"}]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true},"stats":{"type":"object","properties":{"tastings":{"type":"number"},"bottles":{"type":"number"},"collected":{"type":"number"},"contributions":{"type":"number"}},"required":["tastings","bottles","collected","contributions"]}},"required":["id","username","stats"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}},"patch":{"operationId":"users.update","summary":"Update user","description":"Update user profile information including username, privacy settings, and admin status. Users can only edit their own profile unless they are admin","tags":["users"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"number"},{"type":"string"}]}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"password":{"anyOf":[{"type":"null"},{"type":"string","minLength":8}],"description":"User's password (minimum 8 characters)"},"picture":{"type":"null","description":"Optional profile picture upload"},"notifyComments":{"type":"boolean","description":"Whether to notify user of comments on their content"}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users":{"get":{"operationId":"users.list","summary":"List users","description":"Search and list users with pagination support. Requires authentication","tags":["users"],"parameters":[{"name":"query","in":"query","style":"deepObject","explode":true,"schema":{"default":"","type":"string"}},{"name":"sort","in":"query","style":"deepObject","explode":true,"schema":{"default":"name","enum":["name","created","-created","-name"]}},{"name":"cursor","in":"query","style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","readOnly":true,"description":"Unique identifier for the user"},"username":{"type":"string","minLength":1,"description":"Unique username for the user"},"pictureUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"readOnly":true,"description":"URL to the user's profile picture"},"private":{"default":false,"type":"boolean","description":"Whether the user's profile is private"},"email":{"type":"string","format":"email","description":"User's email address"},"verified":{"type":"boolean","readOnly":true,"description":"Whether the user's email is verified"},"admin":{"type":"boolean","description":"Whether the user has admin privileges"},"mod":{"type":"boolean","description":"Whether the user has moderator privileges"},"createdAt":{"type":"string","format":"date-time","readOnly":true,"description":"Timestamp when the user account was created"},"friendStatus":{"enum":["pending","friends","none"],"description":"Friendship status with the current user","readOnly":true}},"required":["id","username"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the next page of results"},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}],"description":"Cursor for the previous page of results"}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}/avatar":{"post":{"operationId":"users.avatarUpdate","summary":"Update user avatar","description":"Upload and update a user's avatar image with automatic compression and resizing. Requires authentication and ownership or admin privileges","tags":["users"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"type":"number"},{"const":"me"}]}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"file":{}},"required":[]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"pictureUrl":{"type":"string"}},"required":["pictureUrl"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}/badges":{"get":{"operationId":"users.badgeList","summary":"List user badges","description":"Retrieve badges earned by a user with pagination support. Respects privacy settings","tags":["users"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"string"},{"type":"number"}]}},{"name":"cursor","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":1,"type":"number","minimum":1}},{"name":"limit","in":"query","required":false,"style":"deepObject","explode":true,"schema":{"default":25,"type":"number","minimum":1,"maximum":100}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge award"},"xp":{"type":"number","description":"Experience points earned for this badge"},"level":{"type":"number","description":"Current level of this badge"},"badge":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier for the badge"},"name":{"type":"string","minLength":1,"description":"Name of the badge"},"maxLevel":{"default":25,"type":"number","minimum":1,"maximum":100,"description":"Maximum level this badge can reach"},"imageUrl":{"default":null,"anyOf":[{"type":"null"},{"type":"string"}],"description":"URL to the badge's image"},"checks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"const":"age","description":"Age-based badge check"},"config":{"type":"object","properties":{"minAge":{"type":"number","minimum":0,"maximum":100},"maxAge":{"type":"number","minimum":0,"maximum":100}},"required":["minAge","maxAge"],"description":"Configuration for age-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"entity","description":"Entity-based badge check"},"config":{"type":"object","properties":{"entity":{"type":"number"},"type":{"default":null,"anyOf":[{"type":"null"},{"enum":["brand","bottler","distiller"]}]}},"required":["entity"],"description":"Configuration for entity-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"bottle","description":"Bottle-based badge check"},"config":{"type":"object","properties":{"bottle":{"type":"array","items":{"type":"number"},"minItems":1}},"required":["bottle"],"description":"Configuration for bottle-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"region","description":"Region-based badge check"},"config":{"type":"object","properties":{"country":{"type":"number"},"region":{"default":null,"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["country"],"description":"Configuration for region-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"category","description":"Category-based badge check"},"config":{"type":"object","properties":{"category":{"type":"array","items":{"enum":["blend","bourbon","rye","single_grain","single_malt","single_pot_still","spirit"]},"minItems":1}},"required":["category"],"description":"Configuration for category-based checks"}},"required":["type","config"]},{"type":"object","properties":{"type":{"const":"everyTasting","description":"Check that applies to every tasting"},"config":{"default":{},"description":"Configuration for every-tasting checks"}},"required":["type"]}]},"minItems":1,"description":"Array of checks that determine badge progression"},"tracker":{"enum":["bottle","entity","country","region"],"description":"Type of tracker used for this badge"},"formula":{"enum":["default","linear","fibonacci"],"description":"Formula used to calculate badge progression"}},"required":["id","name"],"description":"The badge that was awarded"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the badge was awarded"},"prevLevel":{"type":"number","description":"Previous level before this award"}},"required":["id","xp","level","badge","createdAt"]}},"rel":{"type":"object","properties":{"nextCursor":{"anyOf":[{"type":"null"},{"type":"number"}]},"prevCursor":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["nextCursor","prevCursor"]}},"required":["results","rel"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}/flavors":{"get":{"operationId":"users.flavorList","summary":"List user flavor profiles","description":"Retrieve flavor profiles from bottles tasted by a user with counts and scores. Respects privacy settings","tags":["users"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"string"},{"type":"number"}]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"flavorProfile":{"type":"string"},"count":{"type":"number"},"score":{"type":"number"}},"required":["flavorProfile","count","score"]}},"totalScore":{"type":"number"},"totalCount":{"type":"number"}},"required":["results","totalScore","totalCount"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}/regions":{"get":{"operationId":"users.regionList","summary":"List user regions","description":"Retrieve regions from bottles tasted by a user with tasting counts. Respects privacy settings","tags":["users"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"string"},{"type":"number"}]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"country":{"type":"object","properties":{"name":{"type":"string"},"slug":{"type":"string"}},"required":["name","slug"]},"region":{"anyOf":[{"type":"null"},{"type":"object","properties":{"name":{"type":"string"},"slug":{"type":"string"}},"required":["name","slug"]}]},"count":{"type":"number"}},"required":["country","region","count"]}},"totalCount":{"type":"number"}},"required":["results","totalCount"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/users/{user}/tags":{"get":{"operationId":"users.tagList","summary":"List user tags","description":"Retrieve tags used by a user in their tastings with usage counts. Respects privacy settings","tags":["users"],"parameters":[{"name":"user","in":"path","required":true,"schema":{"anyOf":[{"const":"me"},{"type":"string"},{"type":"number"}]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"tag":{"type":"string"},"count":{"type":"number"}},"required":["tag","count"]}},"totalCount":{"type":"number"}},"required":["results","totalCount"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/version":{"get":{"operationId":"version","summary":"Get API version","description":"Retrieve the current API version","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"version":{"type":"string"}},"required":["version"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"BAD_REQUEST"},"status":{"const":400},"message":{"type":"string","default":"Bad Request."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"Unauthorized."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"403":{"description":"403","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"FORBIDDEN"},"status":{"const":403},"message":{"type":"string","default":"Forbidden."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"404":{"description":"404","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"NOT_FOUND"},"status":{"const":404},"message":{"type":"string","default":"The resource was not found."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"409":{"description":"409","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"CONFLICT"},"status":{"const":409},"message":{"type":"string","default":"Conflict."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"413":{"description":"413","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"PAYLOAD_TOO_LARGE"},"status":{"const":413},"message":{"type":"string","default":"Payload too large."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}},"500":{"description":"500","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INTERNAL_SERVER_ERROR"},"status":{"const":500},"message":{"type":"string","default":"Internal server error."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"METHOD_NOT_ALLOWED"},"status":{"const":500},"message":{"type":"string","default":"Method not allowed."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNPROCESSABLE_ENTITY"},"status":{"const":500},"message":{"type":"string","default":"Unprocessable entity."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}}}}